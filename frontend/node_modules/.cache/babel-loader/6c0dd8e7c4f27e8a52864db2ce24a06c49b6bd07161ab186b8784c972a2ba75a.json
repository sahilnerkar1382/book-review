{"ast":null,"code":"// frontend/src/services/api.js\nimport axios from 'axios';\n\n// Base URL includes \"/api\" to match backend mounts\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL\n});\nAPI.interceptors.request.use(req => {\n  if (localStorage.getItem('user')) {\n    const token = JSON.parse(localStorage.getItem('user')).token;\n    req.headers.Authorization = `Bearer ${token}`;\n  }\n  return req;\n});\n\n// Since baseURL already includes /api, do NOT prefix paths with /api here\nexport const login = formData => API.post('/auth/login', formData);\nexport const signup = formData => API.post('/auth/signup', formData);\nexport const fetchBooks = page => API.get(`/books?page=${page}`);\nexport const fetchBook = id => API.get(`/books/${id}`);\nexport const createBook = newBook => API.post('/books', newBook);\nexport const updateBook = (id, updatedBook) => API.put(`/books/${id}`, updatedBook);\nexport const deleteBook = id => API.delete(`/books/${id}`);\nexport const addReview = newReview => API.post('/reviews', newReview);\nexport const updateReview = (id, updatedReview) => API.put(`/reviews/${id}`, updatedReview);\nexport const deleteReview = id => API.delete(`/reviews/${id}`);","map":{"version":3,"names":["axios","API","create","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","req","localStorage","getItem","token","JSON","parse","headers","Authorization","login","formData","post","signup","fetchBooks","page","get","fetchBook","id","createBook","newBook","updateBook","updatedBook","put","deleteBook","delete","addReview","newReview","updateReview","updatedReview","deleteReview"],"sources":["C:/Users/sahil/Downloads/intenship project/book-review-platform/frontend/src/services/api.js"],"sourcesContent":["// frontend/src/services/api.js\nimport axios from 'axios';\n\n// Base URL includes \"/api\" to match backend mounts\nconst API = axios.create({ baseURL: process.env.REACT_APP_API_URL });\n\nAPI.interceptors.request.use((req) => {\n  if (localStorage.getItem('user')) {\n    const token = JSON.parse(localStorage.getItem('user')).token;\n    req.headers.Authorization = `Bearer ${token}`;\n  }\n  return req;\n});\n\n// Since baseURL already includes /api, do NOT prefix paths with /api here\nexport const login = (formData) => API.post('/auth/login', formData);\nexport const signup = (formData) => API.post('/auth/signup', formData);\n\nexport const fetchBooks = (page) => API.get(`/books?page=${page}`);\nexport const fetchBook = (id) => API.get(`/books/${id}`);\nexport const createBook = (newBook) => API.post('/books', newBook);\nexport const updateBook = (id, updatedBook) => API.put(`/books/${id}`, updatedBook);\nexport const deleteBook = (id) => API.delete(`/books/${id}`);\n\nexport const addReview = (newReview) => API.post('/reviews', newReview);\nexport const updateReview = (id, updatedReview) => API.put(`/reviews/${id}`, updatedReview);\nexport const deleteReview = (id) => API.delete(`/reviews/${id}`);\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EAAEC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;AAAkB,CAAC,CAAC;AAEpEL,GAAG,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAK;EACpC,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAChC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,KAAK;IAC5DH,GAAG,CAACM,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAC/C;EACA,OAAOH,GAAG;AACZ,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMQ,KAAK,GAAIC,QAAQ,IAAKlB,GAAG,CAACmB,IAAI,CAAC,aAAa,EAAED,QAAQ,CAAC;AACpE,OAAO,MAAME,MAAM,GAAIF,QAAQ,IAAKlB,GAAG,CAACmB,IAAI,CAAC,cAAc,EAAED,QAAQ,CAAC;AAEtE,OAAO,MAAMG,UAAU,GAAIC,IAAI,IAAKtB,GAAG,CAACuB,GAAG,CAAC,eAAeD,IAAI,EAAE,CAAC;AAClE,OAAO,MAAME,SAAS,GAAIC,EAAE,IAAKzB,GAAG,CAACuB,GAAG,CAAC,UAAUE,EAAE,EAAE,CAAC;AACxD,OAAO,MAAMC,UAAU,GAAIC,OAAO,IAAK3B,GAAG,CAACmB,IAAI,CAAC,QAAQ,EAAEQ,OAAO,CAAC;AAClE,OAAO,MAAMC,UAAU,GAAGA,CAACH,EAAE,EAAEI,WAAW,KAAK7B,GAAG,CAAC8B,GAAG,CAAC,UAAUL,EAAE,EAAE,EAAEI,WAAW,CAAC;AACnF,OAAO,MAAME,UAAU,GAAIN,EAAE,IAAKzB,GAAG,CAACgC,MAAM,CAAC,UAAUP,EAAE,EAAE,CAAC;AAE5D,OAAO,MAAMQ,SAAS,GAAIC,SAAS,IAAKlC,GAAG,CAACmB,IAAI,CAAC,UAAU,EAAEe,SAAS,CAAC;AACvE,OAAO,MAAMC,YAAY,GAAGA,CAACV,EAAE,EAAEW,aAAa,KAAKpC,GAAG,CAAC8B,GAAG,CAAC,YAAYL,EAAE,EAAE,EAAEW,aAAa,CAAC;AAC3F,OAAO,MAAMC,YAAY,GAAIZ,EAAE,IAAKzB,GAAG,CAACgC,MAAM,CAAC,YAAYP,EAAE,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}